<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Vodafone Wordsearch</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; text-align: center; background: #fafafa; }
    #qr-container { position: fixed; top: 10px; left: 10px; text-align: center; z-index: 2000; }
    #qr-code { width: 90px; height: 90px; }
    #qr-label { font-size: 14px; font-weight: bold; margin-top: 4px; }
    @media (max-width:768px) { #qr-code { width:70px; height:70px; } #qr-label{font-size:12px;} }
    #vodafone-banner { position: fixed; top: 10px; right: 10px; background: red; color: white; font-weight: bold; padding: 8px 12px; border-radius: 6px; z-index: 2000; }
    #winner-banner { margin-top:60px; font-size:18px; font-weight:bold; color:darkgreen; }
    #toolbar { margin-top: 120px; display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; }
    .game-btn { padding: 10px 16px; font-size: 15px; border-radius: 6px; cursor: pointer; border:1px solid #ccc; }
    #timer { margin:10px; font-size:18px; font-weight:bold; }
    #game-container { display: flex; justify-content: center; align-items: flex-start; flex-wrap: wrap; margin-top: 20px; gap: 20px; }
    #grid { display: grid; grid-template-columns: repeat(15, 30px); grid-template-rows: repeat(15, 30px); justify-content: center; }
    .cell { width: 30px; height: 30px; border: 1px solid #ccc; display: flex; justify-content: center; align-items: center; font-size: 16px; cursor: pointer; user-select:none; }
    .selected { background: yellow; }
    .found { background: lightgreen !important; }
    #hints { max-width: 320px; text-align: left; list-style: none; padding:0; }
    #hints li { margin:4px 0; }
    #hints li.found { text-decoration: line-through; color: gray; }
    #final-phrase { margin:20px auto; font-size:20px; font-weight:bold; }
    .slot { display:inline-block; width:24px; height:30px; border-bottom:2px solid #000; margin:0 3px; text-align:center; }
    #leaderboard { margin: 20px auto; max-width: 500px; background:#fff; padding:10px; border-radius:8px; box-shadow:0 2px 5px rgba(0,0,0,0.1); }
    #leaderboard h3 { margin-top:0; }
    @media (max-width:768px){
      #game-container { flex-direction: column; align-items: center; }
    }
  </style>
</head>
<body>
  <div id="qr-container">
    <a href="https://saturncapricornsquid.github.io/CSANDLCA/" target="_blank">
      <img id="qr-code" src="https://api.qrserver.com/v1/create-qr-code/?size=120x120&data=https://saturncapricornsquid.github.io/CSANDLCA/" alt="QR Code">
    </a>
    <div id="qr-label">ðŸ“± Scan me</div>
  </div>
  <div id="vodafone-banner">Vodafone Wordsearch</div>
  <div id="winner-banner"></div>
  <div id="toolbar">
    <button class="game-btn" onclick="startTimer()">Start</button>
    <button class="game-btn" onclick="stopTimer()">Stop</button>
    <button class="game-btn" onclick="resetGame()">Reset</button>
    <button class="game-btn" onclick="shuffleGrid()">Shuffle</button>
    <button class="game-btn" onclick="addPlayer()">Add Player</button>
    <button class="game-btn" onclick="addTeam()">Add Team</button>
    <button class="game-btn" onclick="document.getElementById('qr-container').style.display='block'">Show QR</button>
    <button class="game-btn" onclick="document.getElementById('qr-container').style.display='none'">Hide QR</button>
  </div>
  <div id="timer">00:00</div>
  <div id="game-container">
    <div id="grid"></div>
    <ul id="hints"></ul>
  </div>
  <div id="final-phrase"></div>
  <div id="leaderboard">
    <h3>Leaderboard</h3>
    <div id="teams">Teams</div>
    <div id="players">Players</div>
  </div>
  <script>
    const words = [
      {word:"CORE", hint:"Backbone of the network layer that sits beyond access"},
      {word:"SITETRACKER", hint:"Deployment operations tool used for projects, milestones and dashboards"},
      {word:"ALLOCATION", hint:"Assigning specific responsibilities/resources to a deployment task"},
      {word:"NCT", hint:"System used by all regions to allocate sites to INOC (abbr.)"},
      {word:"DELIVERY", hint:"Phase where circuits are provisioned and handed over for live service"},
      {word:"LCA", hint:"Team responsible for pre-build before a site goes live (abbr.)"},
      {word:"CRQ", hint:"Formal change request code in delivery/go live processes (abbr.)"},
      {word:"AUDIT", hint:"ECS action to ensure accurate site data before deployment"},
      {word:"TESTING", hint:"Verifying new config/service behaves as expected before deployment"},
      {word:"ESCALATION", hint:"Raising a fault or issue to higher-level support/management"},
      {word:"ACHIEVEMENTS", hint:"Successful delivery milestone"},
      {word:"METRIC", hint:"Performance indicators for rollout, faults, uptime"},
      {word:"TEAM", hint:"Collective group working together"}
    ];
    const finalPhrase = "CSANDLCA".split("");
    let selectedCells = [];
    let timerInterval, time = 0;
    const grid = document.getElementById("grid");
    let letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";

    // build grid
    for (let i=0; i<225; i++){
      let div=document.createElement("div");
      div.className="cell";
      div.textContent=letters[Math.floor(Math.random()*letters.length)];
      div.addEventListener("mousedown",()=>startSelect(div));
      div.addEventListener("mouseover",()=>continueSelect(div));
      div.addEventListener("mouseup",()=>endSelect());
      div.addEventListener("touchstart",(e)=>{e.preventDefault();startSelect(div)});
      div.addEventListener("touchmove",(e)=>{let t=document.elementFromPoint(e.touches[0].clientX,e.touches[0].clientY);if(t&&t.classList.contains('cell'))continueSelect(t);});
      div.addEventListener("touchend",()=>endSelect());
      grid.appendChild(div);
    }

    // final phrase slots
    const phraseDiv=document.getElementById("final-phrase");
    finalPhrase.forEach(()=> { let span=document.createElement("span"); span.className="slot"; phraseDiv.appendChild(span); });

    // hints
    const hints=document.getElementById("hints");
    words.forEach(w=>{ let li=document.createElement("li"); li.textContent=w.word+" â€” "+w.hint; hints.appendChild(li); });

    let selecting=false;
    function startSelect(cell){ selecting=true; cell.classList.add("selected"); selectedCells=[cell]; }
    function continueSelect(cell){ if(selecting && !selectedCells.includes(cell)){ cell.classList.add("selected"); selectedCells.push(cell);} }
    function endSelect(){
      if(!selecting)return; selecting=false;
      let word=selectedCells.map(c=>c.textContent).join("");
      let rev=selectedCells.map(c=>c.textContent).reverse().join("");
      let match=words.find(w=>w.word===word||w.word===rev);
      if(match){
        selectedCells.forEach(c=>c.classList.add("found"));
        [...hints.children].forEach(li=>{if(li.textContent.startsWith(match.word)) li.classList.add("found");});
        updateFinalPhrase(match.word[0]);
      } else {
        selectedCells.forEach(c=>c.classList.remove("selected"));
      }
      selectedCells=[];
    }

    function updateFinalPhrase(letter){
      const slots=document.querySelectorAll(".slot");
      for(let s of slots){ if(!s.textContent){ s.textContent=letter; break; } }
      if([...slots].every(s=>s.textContent)){
        document.getElementById("winner-banner").textContent="ðŸŽ‰ Completed in "+document.getElementById("timer").textContent;
        stopTimer();
      }
    }
    function startTimer(){ clearInterval(timerInterval); time=0; document.getElementById("timer").textContent="00:00"; timerInterval=setInterval(()=>{ time++; document.getElementById("timer").textContent=String(Math.floor(time/60)).padStart(2,"0")+":"+String(time%60).padStart(2,"0"); },1000); }
    function stopTimer(){ clearInterval(timerInterval); }
    function resetGame(){ location.reload(); }
    function shuffleGrid(){ location.reload(); }
    function addPlayer(){ alert("Add Player logic"); }
    function addTeam(){ alert("Add Team logic"); }
  </script>
</body>
</html>

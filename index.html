<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Vodafone Wordsearch</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      text-align: center;
    }

    /* QR */
    #qr-container {
      position: fixed;
      top: 10px;
      left: 10px;
      text-align: center;
      z-index: 2000;
    }
    #qr-code { width: 90px; height: 90px; }
    #qr-label { font-size: 14px; font-weight: bold; margin-top: 4px; }
    @media (max-width:768px) {
      #qr-code { width:70px; height:70px; }
    }

    /* Vodafone banner */
    #vodafone-banner {
      position: fixed;
      top: 10px;
      right: 10px;
      background: red;
      color: white;
      font-weight: bold;
      padding: 8px 12px;
      border-radius: 6px;
      z-index: 2000;
    }

    /* Toolbar */
    #toolbar {
      margin-top: 120px;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
    }
    .game-btn {
      padding: 12px 18px;
      font-size: 16px;
      border-radius: 6px;
      cursor: pointer;
    }

    /* Grid */
    #grid {
      display: grid;
      grid-template-columns: repeat(15, 30px);
      justify-content: center;
      margin: 20px auto;
      user-select: none;
    }
    .cell {
      width: 30px;
      height: 30px;
      border: 1px solid #ccc;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 16px;
      cursor: pointer;
    }
    .selected { background: yellow; }
    .found { background: lightgreen !important; }

    /* Hints */
    #hints { max-width: 800px; margin: 20px auto; text-align: left; }
    #hints li.found { text-decoration: line-through; color: gray; }

    /* Final phrase */
    #final-phrase { margin:20px auto; font-size:20px; font-weight:bold; }
    .slot {
      display:inline-block;
      width:24px; height:30px;
      border-bottom:2px solid #000;
      margin:0 3px;
      text-align:center;
    }

    /* Leaderboard */
    #leaderboard { margin: 20px auto; max-width: 500px; }
    #winner-banner { font-size:20px; font-weight:bold; margin-top:10px; }
  </style>
</head>
<body>
  <!-- QR -->
  <div id="qr-container">
    <a href="https://saturncapricornsquid.github.io/CSANDLCA/" target="_blank">
      <img id="qr-code" src="https://api.qrserver.com/v1/create-qr-code/?size=90x90&data=https://saturncapricornsquid.github.io/CSANDLCA/" alt="QR Code">
    </a>
    <div id="qr-label">ðŸ“± Scan me</div>
  </div>

  <!-- Vodafone banner -->
  <div id="vodafone-banner">Vodafone Wordsearch</div>

  <!-- Toolbar -->
  <div id="toolbar">
    <button class="game-btn" onclick="startTimer()">Start</button>
    <button class="game-btn" onclick="stopTimer()">Stop</button>
    <button class="game-btn" onclick="resetGame()">Reset</button>
    <button class="game-btn" onclick="shuffleGrid()">Shuffle</button>
    <button class="game-btn" onclick="addPlayer()">Add Player</button>
    <button class="game-btn" onclick="addTeam()">Add Team</button>
    <button class="game-btn" onclick="document.getElementById('qr-container').style.display='block'">Show QR Again</button>
    <button class="game-btn" onclick="document.getElementById('qr-container').style.display='none'">Hide QR</button>
  </div>

  <!-- Timer -->
  <div id="timer">00:00</div>

  <!-- Grid -->
  <div id="grid"></div>

  <!-- Final phrase -->
  <div id="final-phrase"></div>

  <!-- Hints -->
  <ul id="hints"></ul>

  <!-- Leaderboard -->
  <div id="leaderboard">
    <h3>Leaderboard</h3>
    <div id="teams">Teams</div>
    <div id="players">Players</div>
    <div id="winner-banner"></div>
  </div>

  <script>
    // Words & hints
    const words = [
      {word:"CORE", hint:"Backbone of the network layer that sits beyond access"},
      {word:"SITETRACKER", hint:"The deployment operations tool used for projects, milestones and dashboards."},
      {word:"ALLOCATION", hint:"Assigning specific responsibilities or resources to a deployment task"},
      {word:"NCT", hint:"System used by all regions to allocate sites to INOC (abbr.)"},
      {word:"DELIVERY", hint:"Phase where circuits are provisioned and handed over for live service"},
      {word:"LCA", hint:"Team responsible for setting up pre-build before a site goes live (abbr.)"},
      {word:"CRQ", hint:"Formal change request code used in delivery/go live processes (abbr.)"},
      {word:"AUDIT", hint:"Essential Connectivity Services action to ensure accurate site data"},
      {word:"TESTING", hint:"Process of verifying new config/service before deployment"},
      {word:"ESCALATION", hint:"Raising a fault or issue to higher-level support/management"},
      {word:"ACHIEVEMENTS", hint:"A successful delivery milestone"},
      {word:"METRIC", hint:"Performance indicators used to track rollout/faults/uptime"},
      {word:"TEAM", hint:"Collective group working together"}
    ];

    const finalPhrase = "CSANDLCA".split("");
    let selectedCells = [];
    let timerInterval, time = 0;

    // Build grid
    const grid = document.getElementById("grid");
    let letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
    for (let i=0; i<225; i++){
      let div=document.createElement("div");
      div.className="cell";
      div.textContent=letters[Math.floor(Math.random()*letters.length)];
      div.addEventListener("mousedown",()=>startSelect(div));
      div.addEventListener("mouseover",()=>continueSelect(div));
      div.addEventListener("mouseup",()=>endSelect());
      grid.appendChild(div);
    }

    // Final phrase slots
    const phraseDiv=document.getElementById("final-phrase");
    finalPhrase.forEach(()=> {
      let span=document.createElement("span");
      span.className="slot";
      phraseDiv.appendChild(span);
    });

    // Hints
    const hints=document.getElementById("hints");
    words.forEach(w=>{
      let li=document.createElement("li");
      li.textContent=w.word+" â€” "+w.hint;
      hints.appendChild(li);
    });

    // Selection logic
    let selecting=false;
    function startSelect(cell){ selecting=true; cell.classList.add("selected"); selectedCells=[cell]; }
    function continueSelect(cell){ if(selecting && !selectedCells.includes(cell)){ cell.classList.add("selected"); selectedCells.push(cell);} }
    function endSelect(){
      selecting=false;
      let word=selectedCells.map(c=>c.textContent).join("");
      let rev=selectedCells.map(c=>c.textContent).reverse().join("");
      let match=words.find(w=>w.word===word||w.word===rev);
      if(match){
        selectedCells.forEach(c=>c.classList.add("found"));
        [...hints.children].forEach(li=>{if(li.textContent.startsWith(match.word)) li.classList.add("found");});
        updateFinalPhrase(match.word[0]);
      } else {
        selectedCells.forEach(c=>c.classList.remove("selected"));
      }
      selectedCells=[];
    }

    // Final phrase fill
    function updateFinalPhrase(letter){
      const slots=document.querySelectorAll(".slot");
      for(let s of slots){
        if(!s.textContent){ s.textContent=letter; break; }
      }
      if([...slots].every(s=>s.textContent)){
        document.getElementById("winner-banner").textContent="ðŸŽ‰ Final phrase completed!";
        stopTimer();
      }
    }

    // Timer
    function startTimer(){
      clearInterval(timerInterval);
      timerInterval=setInterval(()=>{
        time++;
        document.getElementById("timer").textContent=String(Math.floor(time/60)).padStart(2,"0")+":"+String(time%60).padStart(2,"0");
      },1000);
    }
    function stopTimer(){ clearInterval(timerInterval); }
    function resetGame(){ location.reload(); }

    // Shuffle
    function shuffleGrid(){ location.reload(); }

    // Leaderboard demo
    function addPlayer(){ alert("Add Player feature here"); }
    function addTeam(){ alert("Add Team feature here"); }
  </script>
</body>
</html>
